<div>603<br><br>#computerVirus #BufferOverflowAttack #vmc<br><br>Q: Tôi có sai không khi nói rằng chỉ có file chương trình và file .exe mới có thể là virus?<br><br>A: Franklin Veaux, chuyên gia bảo mật máy tính nghiệp dư<br><br>[[LINK]](https://www.quora.com/Am-I-wrong-in-saying-that-only-exe-and-other-program-files-can-be-a-virus/answer/Franklin-Veaux) · <br><br>=========<br><br>Ờ, bạn sai rồi đó. Một vài ngày trước, tôi nhận được một email spam chưa một file .rtf bị nhiễm malware (rich text format - định dạng văn bản giàu tính chất).<br><br>Tôi nghe anh nói là. “Nhưng Franklin này! Chuyện đó sao có thể xảy ra được! Một file RTF chỉ toàn là ký tự mà thôi! Nó có bao giờ được thực thi đâu cơ chứ! Hệ điều hành chẳng bao giờ thèm chạy nó đâu!”<br><br>Nhưng mà, hỡi ôi, chuyện chẳng bao giờ đơn giản như vậy đâu.<br><br>Vấn đề là thế này. Khi bạn xem một file không phải là mã thực thi ấy, bạn phải chạy một file thực thi nào đó để hiện được file đó lên. Và nếu chỗ mã thực thi ấy bị lỗ thì, chậc...<br><br>Một file RTF có thể chứa nhiều dữ liệu khác ngoài ký tự. Ví dụ, nó có thể chứa cả ảnh và các font chữ nữa. Và có nhiều cách để nhúng mã thực thi dưới dạng dữ liệu phi ký tự vào một file RTF.<br><br>Ví dụ, bạn có thể tạo ra một bức ảnh nhiễm mã độc với phần đầu (header) chứa thông tin sai lệch về dung lượng của bức ảnh. Giả dụ, bạn có thể ghi trong phần đầu đó là “đây là một bức ảnh RGB 10 pixel nhân 10 pixel”, tức là sẽ có khoảng 300 byte dữ liệu ảnh. Nhưng rồi, bạn lại nhét vào đó 2000 byte dữ liệu. Và điều gì sẽ xảy ra? Phần mềm xem file RTF sẽ cấp phát 300 byte bộ nhớ để chứa bức ảnh đó. Rồi sau đó nó sẽ đọc cả 2000 byte dữ liệu vào bộ nhớ. 300 byte đầu tiên thực sự là một bức ảnh đó. Tuy vậy, 1700 byte tiếp theo là những câu mã lệnh yêu cầu máy tính thực thi đó! Giờ đây chúng đã ở trong bộ nhớ rồi!<br><br>Chúng có thể ở trong bộ nhớ bởi vì phần mềm đọc file RTF mặc nhiên tin rằng thông tin trong phần đầu, và dành 300 byte bộ nhớ để lưu giữ bức ảnh và rồi lại tải cả 2000 byte vào bộ nhớ. Tức là thông tin được nạp vào đã vượt quá dung lượng của bộ nhớ đệm là 300 byte và giờ nó đang đi đến một chỗ nào khác. ví dụ như ngay phía trên chương trình hiển thị file RTF ấy.<br><br>Shazam vãi! Chòi oi, giờ thì máy tính bị một file không phải là .exe chiếm quyền điều khiển rồi nhá (pwn3d).<br><br>Cách làm này được gọi là một cuộc “tấn công tràn bộ nhớ đệm”. Đó là một trong những kiểu tấn công phổ biến nahát, dù chúng ta sống trong một thời đại mà mỗi sinh viên Khoa Học Máy Tính năm nhất đều được nhắc hết lần này tới lần khác, “không bao giờ, không bao giờ được nạp nhiều dữ liệu hơn kích thước bộ nhớ mà bạn đã cấp phát hoặc không thì bạn sẽ phải nghe từng thớ thịt trên cơ thể mình nguyền rủa mãi mãi đấy, trời ơi”. Bởi lẽ lũ lập trình viên lười biếng đều rất nhác và việc kiểm tra từng bộ nhớ đệm lần nào cũng là một điều khó khăn.<br><br>Và cái đám lười biếng đó là lý do chúng ta không thể có được những thứ đẹp đẽ đấy. Nhưng tôi lạc đề cmnr.<br><br>Vấn đề là, nếu được nạp vào bộ nhớ, có lẽ sẽ có cách để ai đó lợi dụng thứ đó để chạy mã độc đấy.<br><br>Các loại font, ảnh, PDF, âm thanh, video, flash (một mũi tên trúng hai đích, cả Adobe và Macromedia luôn!) và nhiều loại file khác đều đã bị lợi dụng để tuồn mã độc vào trong những chiếc máy tính đấy.<br><br><img src='https://scontent.fhan17-1.fna.fbcdn.net/v/t1.6435-9/59520529_2347528335493721_5999265681181245440_n.jpg?stp=dst-jpg_s720x720&_nc_cat=101&ccb=1-7&_nc_sid=ca434c&_nc_ohc=6h7ceLqSbi8AX-uDOUX&_nc_ht=scontent.fhan17-1.fna&edm=AFuVL-cEAAAA&oh=00_AfCOO_JT4bgFI2aLi4dzlFSZ3ODVJNYim8IGVwCXQtaG9Q&oe=63D0D21B'></div>