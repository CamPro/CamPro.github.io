<div>#WedNonQuora<br><br>.<br><br>Những game đua xe bom tấn như Forza Motorsports yêu cầu mức độ chi tiết của mô hình xe hơi rất cao. Vậy nên những chiếc xe đua thực thụ sẽ được đưa tới studio để được scan bằng hàng loạt các máy móc thiết bị tiên tiến nhất. Kết quả thu được là những mô hình cực kỳ chi tiết, chính xác tới từng mm, vô cùng ấn tượng. <br><br>Thế nhưng nó vẫn chưa thể so sánh về mức độ đáng nhớ được với mô hình vật thể đầu tiên được scan thủ công vào đầu những năm 70, cũng là một chiếc xe hơi. Điều phi thường này được thực hiện bởi một nhóm nghiên cứu sinh, trong đó có một **thiên tài người Việt Nam**. Người ấy là ai ?<br><br>.<br># 1. Đồ họa Máy tính vào những năm 70<br><br>Quay trở lại nước Mỹ năm 1968, **Ivan Sutherland** vừa mới tạo ra hệ thống thực tế ảo đầu tiên trên Thế giới *(The sword of Damocles)* khi đang là Phó Giáo Sư tại ĐH Harvard. Hệ thống này được Bộ Quốc Phòng Mỹ thử nghiệm để cho phép phi công máy bay trực thăng có thể nhìn được camera từ hai bên hông máy bay chỉ với động tác quay đầu về phía tương ứng.<br><br>Nhận thấy tiềm năng về ứng dụng của Đồ họa Máy tính, Bộ Quốc Phòng Mỹ đã đầu tư 5 triệu đô-la cho chuyên khoa Khoa học Máy tính của ĐH Utah *(vừa mới được thành lập 3 năm trước bởi David Evans)*. Ivan Sutherland khi ấy đã làm việc cho Bộ Quốc Phòng, bị thuyết phục bởi những thử thách mà David nêu ra trong lĩnh vực rất mới này, đã cùng tham gia để trở thành giảng viên của ĐH Utah. <br><br>Với nguồn nhân lực có uy tín và chất lượng cao, đi kèm với nguồn tài chính được đầu tư dồi dào, hai ông đã thông báo rầm rộ để tuyển được những tài năng sáng giá nhất khắp toàn cầu về khoa. Và một trong số đó là **Bùi Tường Phong**, một nhà khoa học sẽ góp công lớn trong việc dựng nên mô hình vật thể thực tế đầu tiên trên Thế giới.<br><br>.<br><br>Năm 1971, từ nước Pháp xa xôi, **Bùi Tường Phong** bay sang Mỹ để nghiên cứu về Đồ họa Máy tính trong phòng lab của Ivan Sutherland. <br><br>Khoa KHMT của ĐH Utah khi ấy đang tụ hội những nhân tài ưu tú hàng đầu, lại vừa gây được tiếng vang lớn khi sáng tạo ra cách dựng hình cho các mặt cong. Nhà phát minh của phương pháp dựng hình này là **Henri Gouraud**. Công trình của ông nổi tiếng tới mức nó được đặt theo tên ông luôn, đó chính là Gouraud shading. Và điều này càng khiến cho tên tuổi của Henri Gouraud bay xa. Nhưng có lẽ không ai có thể đoán được rằng: công trình để đời này sẽ nhanh chóng bị vượt mặt bởi một anh chàng mới đến.<br><br>.<br># 2. Chiếc xe con bọ của Volkswagen<br><br>Và câu chuyện thực sự bắt đầu vào năm 1972, khi Ivan Sutherland thách đố nhóm của Bùi Tường Phong dựng hình một vật thể thực tế nào đó, mà ai nhìn vào cũng có thể đoán được vật đó là gì. Nhóm 4 chàng nghiên cứu sinh này quyết định sẽ đo đạc trực tiếp một vật thể thực tế để tạo nên một mô hình 3D trước đã. Và họ đã chọn chiếc xe con bọ của Volkswagen; một phần vì nó đủ lớn để các sai số khi đo đạc sẽ khó nhận ra hơn, một phần vì vợ của Ivan là Marsha có một chiếc xe như vậy nên họ có thể mượn dễ dàng hơn. <br><br>*{Xem thêm ảnh trong phần comment}*<br><br>*.*<br><br>Đầu tiên, họ dùng sơn để đánh dấu các điểm lên chiếc xe và nối các điểm lại để tạo nên các đa giác. Chiếc xe này được cho là đối xứng nên họ chỉ vẽ lên một nửa thôi và dự định sau khi đo sẽ lật các đỉnh sang để tạo nên nửa còn lại. <br><br>Sau đó họ dùng lưới thi đấu bóng chuyền và vỉa hè để tạo nên một hệ trục tọa độ 3 chiều. Tiếp theo họ đo từng chiều x, y, z của mỗi điểm đánh dấu trên chiếc xe bằng thước kẻ. Hai anh chàng cao lớn trong nhóm (Jim Clark, Robert McDemortt) phụ trách đo phần nóc, còn Phong và Raphael Rom là hai người thấp hơn sẽ đo phần mui xe và cốp xe. <br><br>Việc đo đạc thủ công này diễn ra rất chậm và phải chia thành nhiều buổi mới hoàn thành. Cô Marsha không hề thấy phiền khi phải lái chiếc xe chằng chịt vết sơn ấy suốt vài ngày, để giữ nguyên các phần đánh dấu. <br><br>Cuối mỗi buổi thì tọa độ của các đỉnh sẽ được đánh máy vào một file text. Còn danh sách đỉnh của mỗi đa giác chỉ lưu mã số của các đỉnh thôi chứ không lưu tọa độ, vì một đỉnh có thể góp mặt ở nhiều đa giác. Và cách lưu trữ thông tin về mô hình 3D kiểu này vẫn đang được dùng cho ngay cả những phần mềm tiên tiến nhất hiện nay.<br><br>Giờ thì nhóm của Phong đã có mô hình chiếc xe, đã tới lúc dựng hình.<br><br>.<br># 3. Phong shading ra đời<br><br>Vào thời điểm ấy, chỉ có 2 phương pháp tô bóng là Flat shading và Gouraud shading *(tức là 2 phương pháp tính toán sắc độ sáng tối để mô phỏng chiều sâu của mô hình)*. <br><br>Với phương pháp **Flat shading**, mỗi đa giác chỉ có 1 vector pháp tuyến đại diện để tính toán màu sắc cho toàn bộ pixel nằm trong đa giác đó. Nên chiếc xe dựng hình bằng phương pháp này chưa đủ độ thuyết phục. <br><br>*{Xem thêm ảnh trong phần comment}*<br><br>*.*<br><br>Còn với phương pháp **Gouraud shading**, mỗi đỉnh lại có 1 vector pháp tuyến riêng. Do đó ta có thể tính toán màu sắc cho các pixel tại từng đỉnh. Còn màu sắc của các pixel nằm bên trong đa giác sẽ được nội suy giữa màu của các đỉnh. Điều này khiến cho các sắc độ sáng tối được mô phỏng chi tiết hơn và sát với quan sát ngoài đời thực hơn.<br><br>*{Xem thêm ảnh trong phần comment}*<br><br>*.*<br><br>Tuy nhiên, Bùi Tường Phong đã phát hiện lỗi dựng hình của phương pháp Gouraud này. Các vùng lóa do tia sáng nảy vào mắt người nhìn thường xuyên có hình thù kỳ lạ và đôi khi còn mất hẳn. Đặc biệt là dù chỉ thay đổi góc nhìn hay xoay vật thể một chút thôi, cũng khiến cho vùng lóa này đột ngột thay đổi hình dạng. <br><br>*{Xem thêm ảnh trong phần comment}*<br><br>*.*<br><br>Vậy là Bùi Tường Phong quyết định sẽ tự tạo ra một phương pháp tô bóng của riêng mình để khắc phục những điểm yếu kia của phương pháp Gouraud shading.<br><br>Đầu tiên Phong sáng tạo ra kỹ thuật **Phong interpolation**, giúp xấp xỉ được vector pháp tuyến cho bất kỳ pixel nào trên bề mặt vật thể, bằng cách nội suy vector pháp tuyến của các đỉnh tạo nên đa giác chứa pixel đó.<br><br>*{Xem thêm ảnh trong phần comment}*<br><br>*.*<br><br>Tiếp theo, Phong sáng tạo ra một mô hình phản xạ ánh sáng, mà sau này được gọi là **Phong reflection model**, để mô phỏng sắc độ sáng tối khi có nguồn sáng chiếu vào vật thể. Mô hình này có thể được đơn giản hóa như sau:<br><br>*{Xem thêm ảnh trong phần comment}*<br><br>Khi tia sáng chạm vào bề mặt vật thể tại 1 điểm, ông sẽ tính góc nghiêng của tia sáng với vector pháp tuyến tại điểm đó. Góc nghiêng nhỏ chứng tỏ điểm đó quay mặt về hướng gần với nguồn sáng, vậy nên điểm đó sẽ có màu sáng. Ngược lại, góc nghiêng lớn chứng tỏ điểm đó không nhận được nhiều ánh sáng trực diện và do đó sẽ tối hơn.<br><br>Chưa hết, khi tia sáng chạm vào bề mặt vật thể, tia sáng sẽ bị phản xạ, nảy ra với một góc đúng bằng góc tia sáng tới. Nếu tia phản xạ này nảy vào mắt người nhìn tức là vị trí của camera, sẽ gây nên hiện tượng lóa. Vậy là ông lại tính tiếp góc chênh lệch giữa tia phản xạ với hướng nhìn. Góc càng nhỏ thì càng lóa và màu tại điểm va chạm càng sáng. **Mô hình phản xạ của Phong là mô hình đầu tiên trên Thế giới cụ thể hóa hiện tượng lóa** này *(specular highlights)*. <br><br>Khi kết hợp kỹ thuật Phong interpolation để xấp xỉ vector pháp tuyến cho mọi điểm trên bề mặt vật thể, với mô hình phản xạ của riêng mình, ông đã tạo ra phương pháp mới có thể dựng hình các mặt cong còn chính xác và xuất sắc hơn cả phương pháp Gouraud shading đình đám nữa. Ông đã đem công trình này vào luận án Tiến sỹ của mình và bảo vệ luận án thành công rực rỡ năm 1973. <br><br>Phương pháp tô bóng được đặt theo tên ông, **Phong shading**, ngay lập tức đã trở thành chuẩn mực mới trong ngành Đồ họa. Nó và các biến thể vẫn còn được sử dụng tới ngày nay. Nếu bạn nhìn thấy chữ Phong trong các phần mềm đồ họa thì có khả năng cực cao đó chính là kết quả của kiệt tác này. <br><br>**Nếu bạn để ý sẽ thấy tôi dùng từ phương pháp tô bóng (shading method), vì thuật ngữ shader vẫn chưa ra đời tại thời điểm này. Phải chờ tới 15 năm sau đó thì thuật ngữ shader mới được biết đến.*<br><br>*.*<br># 4. Cú shock cho cộng đồng Đồ họa Máy tính<br><br>Phong shading cho kết quả dựng hình chính xác hơn Gouraud shading nhiều, đặc biệt là khi mô hình hoặc camera chuyển động. Tuy nhiên, để đổi lại mức độ chi tiết và chính xác hơn thì Phong shading lại cần tính toán nhiều hơn. Vậy nên Gouraud shading vẫn có chỗ đứng riêng của mình cho một số trường hợp ưu tiên tốc độ thực thi hơn độ chính xác của hình dựng.<br><br>Kỹ thuật Phong interpolation đã cho thấy việc mỗi pixel có một vector pháp tuyến riêng là hoàn toàn khả thi và tư tưởng này có ảnh hưởng không nhỏ tới các kỹ thuật nổi tiếng sau này như Bump Mapping và Normal Mapping. Người sáng tạo ra các kỹ thuật này là Jim Blinn, cũng chính là người đã cải tiến Phong shading để giúp giảm bớt việc tính toán. Thuật toán cải tiến sau đó được đặt tên theo cả 2 người, là Blinn-Phong. Đây chính là mô hình ánh sáng mặc định của rất nhiều phần mềm 3D hiện đại như 3DS Max, Maya, Blender hay Unity. Nếu bạn biết, hoặc muốn biết Jim Blinn đã cải tiến gì thì hãy để lại comment bên dưới video nhé.<br><br>Sau khi nhận bằng Tiến sỹ, Bùi Tường Phong được mời làm thành viên nghiên cứu trọn đời (tenure) của ĐH Utah. Và 2 năm sau, ông lại được mời giảng dạy ở ĐH Stanford. <br><br>.<br><br>Khi vừa nhậm chức và ở đỉnh cao sự nghiệp, ông đã qua đời vào năm 1975, hưởng thọ 33 tuổi.<br><br>.<br><br>Bùi Tường Phong chỉ mất 1 năm để hoàn thành luận án Tiến sỹ của mình, nhanh hơn rất nhiều nhà Khoa học khác cùng khoa. Bởi ông đã biết mình bị bệnh máu trắng và không còn nhiều thời gian.<br><br>Sự ra đi của ông là một nỗi mất mát to lớn. Ông được thầy Ivan và các bạn dành tặng nhiều lời khen về sự thông minh, cởi mở và khiêm tốn của mình. <br><br>.<br># 5. Tri ân Bùi Tường Phong<br><br>Công trình nghiên cứu của ông được vinh danh mãi mãi trên trang chủ của ĐH Utah và thậm chí ông còn được xếp vào danh sách 25 gương mặt ưu tú nhất của khoa suốt từ ngày thành lập tới tận bây giờ.<br><br>Nhiều người còn nói rằng nếu không có phương pháp Phong shading, ngành Đồ họa có lẽ đã rất khác. Một vài phần mềm quan trọng bậc nhất cũng chưa chắc đã tồn tại. Bởi đúng là ông có ảnh hưởng tới nhiều nghiên cứu sinh cùng Khoa. <br>* **Jim Clark**, là anh chàng cao to phụ trách đo phần nóc xe chung nhóm với Phong, sau này sẽ là nhà sáng lập công ty Sillicon Graphics, chính là công ty tạo nên thư viện đồ họa OpenGL mà hầu hết các thiết bị máy tính ngày nay đang sử dụng để dựng hình.<br>* **John Warnock**, tác giả của phương pháp Flat shading, sau này sáng lập ra công ty Adobe Systems, công ty sẽ sản sinh ra Photoshop và After Effects...<br>* Và không thể không kể đến **Ed Catmull**, vị chủ tịch của cả Disney lẫn Pixar Animation Studios.<br><br>.<br># 6. Thiên tài bí ẩn<br><br>Dù có tầm ảnh hưởng lớn tới như vậy, nhưng các thông tin về ông lại rất nhỏ giọt. Hầu hết các thành tựu nghiên cứu của ông chỉ được ghi chép lại sau khi ông tới Mỹ. Và sau đây là tất cả những gì mà tôi tìm được về Bùi Tường Phong:<br>* Ông sinh năm 1942 tại Hà Nội. Hồi nhỏ ông theo học trường Albert Sarraut *(là tiền thân của trường Trần Phú bây giờ)*.<br>* Đến năm 1954, ông cùng gia đình vào Sài Gòn sinh sống và theo học trường Jean Jacques Rousseau *(chính là trường Lê Quý Đôn ngày nay)*.<br>* Sau đó, ông qua Pháp học tập và nghiên cứu chuyên ngành Toán học. Ở thời điểm đó thì máy tính vẫn còn to như cái tủ lạnh và xa lạ với hầu hết người dân toàn Thế giới. Thậm chí để vẽ một hình đơn giản người ta phải dùng tới một cỗ máy mainframe to bằng cả căn phòng gọi là Univac nữa cơ. Vậy mà ông đã nghiên cứu phát triển phần mềm khủng nhất trong các loại phần mềm là Hệ điều hành.<br><br>Sau hơn 7 năm học tập và làm việc tại Pháp, ông được biết về một chuyên ngành rất mới là Đồ họa Máy tính từ phía bên kia của Đại Tây Dương. Bị thu hút, ông đã bay ngay sang ĐH Utah.<br><br>.<br><br>Và phần còn lại, đã trở thành lịch sử.<br><br>.<br><br>**Tham khảo và video: https://youtu.be/YE2plA0ybVk*<br><br><img src='https://external.fhan17-1.fna.fbcdn.net/emg1/v/t13/11728700514221232513?url=https%3a%2f%2fi.ytimg.com%2fvi%2fYE2plA0ybVk%2fmaxresdefault.jpg&fb_obo=1&utld=ytimg.com&stp=dst-emg0_q75&ccb=13-1&oh=06_AbGG8-IzOIVREvSrV04d-UQISu0YDmcwAyWGdKmffHKvYg&oe=63AAD4CA&_nc_sid=5f3a21'></div>