<div>547<br><br>#math #probability #algorithm #vmc<br><br>Q: Một vài thuật toán hay nhất là gì?<br><br> <br><br>A: Jessica Su, Tiến Sĩ Khoa Học Máy Tính Stanford <br><br>L: 363 word<br><br>R: 50<br><br> <br><br>=======<br><br> <br><br>Ấy là Hồ lấy mẫu (Reservoir sampling)<br><br> <br><br>Bạn có một mảng N phần tử, và bạn muốn chọn một phần tử ngẫu nhiên trong mảng đó.  Việc này thật dễ dàng - chọn từng phần tử với xác suất 1/N.<br><br> <br><br>Nhưng giờ bạn phải chọn nhiều phần tử cùng lúc và bạn không biết rằng sẽ có bao nhiêu phần tử.  Bạn sẽ làm gì đây?  Bạn không biết N bằng bao nhiêu, vì thế bạn không thể chọn từng phần tử với xác suất 1/N được.  Về mặt lý thuyết, bạn có thể chờ cho tất cả các phần tử xuất hiện và làm theo cách trước đây.  Nhưng có thể sẽ phải chờ rất lâu và không thể làm được theo cách này.  Chúng ta cần một cách nào đó không cần phải lưu lại hết các phần tử và bất kỳ phần tử nào cũng không được cân nhắc đến lần thứ hai.<br><br> <br><br>Và từ đó, bạn có thể làm như sau:<br><br>• Chọn phần tử đầu tiên với xác suất bằng 1.<br><br>• Thay thế phần tử thứ nhất bằng phần tử thứ hai với xác suất 1/2.<br><br>• Thay phần tử hiện tại với phần tử thứ ba với xác suất 1/3.<br><br>• Tiếp tục làm như vậy đến lúc mọi phần tử xuất hiện.<br><br> <br><br>Thuật toán này có độ phức tạp không gian và thời gian tuyến tính.<br><br> <br><br>Tại sao nó lại đúng à?  Cứ cho là bạn có ba phần tử đi nhé.<br><br> <br><br>• Xác suất chọn được phần tử đầu tiên (vào thời điểm sau cùng) là P(không bị thay thế bởi phần tử thứ hai) * P(không bị thay thế bởi phần tử thứ ba) = 1/2 * 2/3 = 1/3.<br><br>• Xác suất chọn được phần tử thứ hai (vào thời điểm sau cùng là P(thay thế phần tử thứ nhất) * P(không bị thay thế bởi phần tử thứ ba) = 1/2 * 2/3 = 1/3.<br><br>• Xác suất chọn được phần tử thứ ba là P(thay thế một phần tử nào đó bằng phần tử thứ ba) = 1/3<br><br> <br><br>Nói chung, bạn có thể chứng minh được tính đúng đắn của nó bằng quy nạp.  Giả sử sau khi quan sát được N-1 phần tử, mỗi phần tử trong số đó đều được chọn với xác suất bằng nhau.  Khi quan sát phần tử thứ N, nó sẽ được chọn với xác suất 1/N, và mỗi phần tử khác được chọn với xác suất [1/(N-1)] * [(N-1) / N] = 1/N.  Do đó mọi phần tử đều được chọn vơi xác suất như nhau.<br><br>[Link](https://www.quora.com/What-are-some-of-the-best-algorithms/answer/Jessica-Su) <br><br>Trans: Tham khảo:  [Wiki](https://en.wikipedia.org/wiki/Reservoir_sampling)<br><br><img src='https://scontent.fhan17-1.fna.fbcdn.net/v/t1.6435-9/54523612_2323955554517666_6762760692878540800_n.jpg?stp=dst-jpg_s720x720&_nc_cat=103&ccb=1-7&_nc_sid=ca434c&_nc_ohc=yZi2cZYZtdYAX-Hu8eH&_nc_ht=scontent.fhan17-1.fna&edm=AFuVL-cEAAAA&oh=00_AfBNLgRLzovvmRrezRXW1gLCuIzvScTj5O60r4UwPN48rg&oe=63D0C42F'></div>